<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<title>JSSpec results</title>
<link rel="stylesheet" type="text/css" href="JSSpec.css" />
<script type="text/javascript" src="diff_match_patch.js"></script>
<script type="text/javascript" src="JSSpec.js"></script>

<div id="div1">div tag sample</div>

<script type="text/javascript">// <![CDATA[

var require = function(src, check, proc){
  var script = document.createElement('script')
  script.src = src;
  document.body.appendChild(script);

  var checker = new Function("return !!(" + check + ")");

  if(checker()) proc();
  else          setTimeout(function(){ checker() ? proc() : setTimeout(arguments.callee, 10); }, 10);
};

var loader_development = function(proc){
  document.write("<script type='text/javascript'" +
                        " src='../test/unit.js'><\/script>");
  document.write("<script src='../src/development_loader.js'>" +
    "BiwaScheme.register_tests();" +
    "JSSpec.start_test();" +
    "<\/script>");
};

var loader_production = function(proc){
  var dir = "../lib/";
  require(dir+'biwascheme.js',            'window.BiwaScheme', function(){
    proc();
    JSSpec.start_test();
  });
};

var loader = location.hash.match(/lib/) ? loader_production 
                                        : loader_development;
loader();

// ]]></script>
</head>
<body></body>
</html>
<!-- vim:set ft=javascript: -->
