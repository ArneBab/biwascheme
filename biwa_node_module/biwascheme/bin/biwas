#!/usr/bin/env node

var sys = require('sys'),
    fs = require('fs'),
    path = require('path'),
    BiwaScheme = require('biwascheme'),
    optparse = require('optparse');

function Options(argv){
  var switches = [
    [      '--encoding', 'Specify encoding (default: utf8)'],
    ['-h', '--help', 'Shows help sections']
  ];

  var parser = new optparse.OptionParser(switches);

  parser.on('help', function() {
    sys.puts('Help');
  });

  this.args = parser.parse(argv);
}
var opts = new Options(process.argv.slice(2));

if(opts.args.size() >= 1){
  BiwaScheme.run(opts.args[0]);
}
else{
  // TODO repl
  //sys.print("biwas > ");
  sys.puts(opts);
}

